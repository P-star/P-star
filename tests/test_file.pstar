SCENE main {
	string filename = "testfile";
	FILE file;
	LINE line = file;

	int test_ro() {
		if (!file->open_ro(filename)) {
			echo file->error() . "\n";
			return 1;
		}

		echo "File '$testfile' opened successfully for reading\n";

		echo "Begin of file is nothing: '$line'\n";

		int i = 0;
		while (++line && ++i) {
			echo "Line $i: $line\n";
		}

		file->close();
		return 0;
	}

	int test_rw() {
		if (!file->open_rw(filename)) {
			echo file->error() . "\n";
			return 1;
		}

		file->close();
		echo "File opened successfully for read/write\n";

		return 0;
	}

	test_ro();
	test_rw();
}
